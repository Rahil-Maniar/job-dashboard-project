<!-- templates/dashboard.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Automated Job Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style> .job-card { margin-bottom: 1.5rem; } </style>
</head>
<body>
    <div class="container mt-5">
        <div class="text-center mb-5">
            <h1 class="display-5">Automated Job Dashboard</h1>
            <p class="lead text-muted">Showing {{ job_count }} unique job opportunities.</p>
        </div>
        
        {% for job in jobs %}
        <div class="card job-card">
            <div class="card-body">
                <h5 class="card-title">{{ job.job_title }}</h5>
                <h6 class="card-subtitle mb-2 text-muted">{{ job.company_name }}</h6>
                <p class="card-text"><strong>Location:</strong> {{ job.location }} | <strong>Type:</strong> {{ job.job_type }} | <strong>Experience:</strong> {{ job.experience_required }}</p>
                <p class="card-text"><strong>Skills:</strong> {{ job.skills_required | truncate(250) }}</p>
                {% if job.post_url and job.post_url != 'Not available' %}
                    <a href="{{ job.post_url }}" class="btn btn-outline-primary" target="_blank">View Original Post</a>
                {% endif %}
            </div>
            <div class="card-footer text-muted">Scraped On: {{ job.processed_at.split('T')[0] }}</div>
        </div>
        {% endfor %}
    </div>
</body>
</html>